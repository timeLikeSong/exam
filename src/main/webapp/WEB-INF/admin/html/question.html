<div class="container-fluid">
	<div class="row-fluid">
		<div class="panel panel-info">
			<div class="row-fluid">
				<div class="col-md-10 form-line">
					<div class="row-fluid">
						<div class="col-md-6" style="margin-right: 0">
							<div class="row-fluid">
								<div class="input-group margin" style="margin-right: 0">
									<input id="searchText" type="text" class="form-control">
									<span class="input-group-btn">
										<button id="searchBtn" type="button" class="btn btn-primary ">
											<i class="fa fa-search"></i> 搜索
										</button>
									</span>
								</div>
							</div>
						</div>
						<div class="col-md-4 margin"
							style="margin-left: 0; padding-left: 0">
							<div class="btn-group">
								<button data-toggle="dropdown"
									class="btn btn-default dropdown-toggle" aria-expanded="false">
									添加<span class="caret"></span>
								</button>
								<ul class="dropdown-menu">
									<li><a href="javascript:addQuestion('singleChoice')">单选题</a></li>
									<li><a href="javascript:addQuestion('multipleChoice')">多选题</a></li>
									<li><a href="javascript:addQuestion('judgement')">判断题</a></li>
									<li><a href="javascript:addQuestion('essay')">简述题</a></li>
									<li><a href="javascript:addQuestion('program')">编程题</a></li>
									<li class="divider"></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-2"></div>
			</div>
		</div>
		<div class="row-fluid">
			<div id="">
				<table id="data_table" class="table table-striped table-bordered"
					cellspacing="0" width="100%">
				</table>
			</div>
		</div>
	</div>
</div>
<div style="display: none; padding: 30px;" id="singleChoiceContainer">
	<form class="form-horizontal" name="singleChoiceForm"
		id="singleChoiceForm" action="" method="post">
		<input name="id" type="hidden" value="" id="id" />
		<div class="form-group">
			<label for="content" class="col-sm-2 control-label">题干</label>
			<div class="col-sm-10">
				<textarea style="resize: none;" rows=5 type="text"
					class="form-control" name="content" id="content"
					placeholder="请输入题干"></textarea>
			</div>
		</div>
		<div class="form-group" id="singleChoiceOption" >
			<label id="optionLabel" for="" class="col-sm-2 control-label">选项</label>
			<div  class="col-sm-10">
				<div class="input-group">
					<span class="input-group-addon"> 
						<input type="radio" name="singleChoiceOptionAlias" class="singleChoiceOptionAlias" value="A" ><span class="alias">A</span>
					</span> 
					<input type="text" name="text" style="width:90%;" class="form-control singleChoiceOptionText" >
					<button  style="display: block;" onclick="return false;" id="" class="addBtn btn btn-info btn-sm">
						<i class="fa fa-plus"></i>
					</button>
					<button style="display: none;" onclick="return false;" id="" class="removeBtn btn btn-info btn-sm">
						<i class="fa fa-minus"></i>
					</button>
				</div>
			</div>
		</div>
	</form>
</div>
<script src="${basePath}/admin/js/question.js"></script>
<script>
	//试题类型
	var type = 'singleChoice';//multipleChoice,judgement,essay,program
	//data存放试题的json格式数据
	var data = {};
	//记录当前已添加的选项数量 ， 如添加了A选项和B选项之后，count=2
	var count = 0;
	//记录选项
	var optionAlias = ['A','B','C','D','E','F','G','H'];
	//重置全局变量
	function resetVar() {
		type = 'singleChoice';
		data = {};
		count = 0;
	}
	alert();
	$('#singleChoiceForm').delegate(".addBtn", "click", function(){
		if(7==count){
			layer.alert("选项过多！");
			return;
		}
		count++;
		var $div = $("#singleChoiceOption").clone();
		$div.find('.addBtn').hide();
		$div.find(".removeBtn").show();
		$div.find("#optionLabel").html('');
		$div.find('.singleChoiceOptionAlias').val(optionAlias[count]);
		$div.find('.alias').html(optionAlias[count]);
		$("#singleChoiceOption:last-child").after($div);
	});
	$('#singleChoiceForm').delegate(".removeBtn", "click", function(){
		if(0==count){
			layer.alert("选项过少！");
			return;
		}
		count--;
		$(this).parent().parent().parent().remove();
	});
</script>